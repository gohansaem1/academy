# 김하늘 학생의 수강료 관리 표시 방식

## 학생 정보
- 이름: 김하늘
- 상태: inactive (그만둔 학생)
- 첫 수업일: 2025-09-07 (9월 7일)
- 마지막 수업일: 2025-09-23 (9월 23일)
- 결제일: 25일
- 등록일: 2025-09-01

## 수강료 계산 로직

### 가정: 수업 수강료가 150,000원인 경우

### 1. 첫 달 결제 항목 (2025년 9월)
- 결제일: 2025-09-25
- 첫 수업일: 9월 7일
- 9월 남은일수: 30 - 7 + 1 = 24일
- 9월 비례 금액: 150,000원 × 24 / 30 = 120,000원
- 다음 달(10월) 전액: 150,000원
- **첫 달 결제 항목 금액: 120,000원 + 150,000원 = 270,000원**
- 상태: `pending` 또는 `confirmed` (과거 날짜면 입금확인 가능)
- 타입: `payment` (결제)

### 2. 마지막 달 환불 항목 (2025년 9월)
- 환불일: 2025-09-25 (마지막 수업일이 속한 달의 결제일)
- 마지막 수업일: 9월 23일
- 9월 미수업일수: 30 - 23 = 7일 (9월 24일~30일)
- 환불 금액: 150,000원 × 7 / 30 = 35,000원
- **환불 항목 금액: -35,000원** (음수로 표시)
- 상태: `pending` (미지급) 또는 `confirmed` (환불확인)
- 타입: `refund` (환불)

## 수강료 관리 페이지 표시 예시

```
학생명: 김하늘
수업명: [수강 중인 수업명]
결제일: 2025-09-25 | 금액: 270,000원 | 상태: 입금확인 | 타입: 결제
결제일: 2025-09-25 | 금액: -35,000원 | 상태: 미지급   | 타입: 환불 (빨간색 배경)
```

## 주요 포인트

1. **첫 달 결제**: 첫 달 비례 금액(120,000원) + 다음 달 전액(150,000원) = 270,000원
2. **마지막 달 환불**: 마지막 수업일(9월 23일) 이후 미수업 부분(7일분) 환불 = 35,000원
3. **마지막 달 결제 항목 없음**: 이미 선납했으므로 마지막 달에 새로운 결제 항목은 생성되지 않음
4. **환불 항목만 표시**: 마지막 달에는 환불 항목만 표시됨

